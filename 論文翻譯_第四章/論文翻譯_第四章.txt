第四章說明智慧助步車的雙輪輪轂馬達控制與同步策略，系統依據年長者與助步車之間的距離調整左右輪輸出，使行走過程維持安全距離與穩定性。

硬體控制採用無刷馬達驅動器，控制線路包含霍爾訊號回授、PWM 速度控制、煞車斷電、三速調整與反轉訊號等，霍爾訊號回傳至 Arduino Mega2560 以形成回授控制，PWM 線用於直接調整兩側馬達轉速，煞車斷電線用於緊急停止；反轉訊號可用於下坡提供阻力，但實測可能導致輔具晃動。

本研究發現即使同型號馬達仍會因製造誤差產生左右轉速差，因此需要回授同步控制；回授來源包含輪轂馬達霍爾訊號與九軸感測器計算的絕對方位偏差與角加速度等資訊，以修正左右輪輸出並提升直行與轉向穩定。

霍爾訊號在磁場 N/S 轉換時會出現讀值急遽變化，可用於辨識轉速回授脈波；實測顯示相同 PWM 輸入下左右輪回授轉換次數不同（例如左 20 次、右 16 次），且在不同 PWM 範圍（60–75 與 80–90）回授波形也不同，反映相同輸入下仍存在左右轉速差異。

轉彎控制以九軸感測器（三軸加速度計、陀螺儀、磁力計）做姿態與操控意圖判斷，並以差速方式控制轉向；調參結果指出轉彎時採同側降速、對側增速，增減輸出量設定為 ±7。

BNO055 可提供絕對方向（Euler/Quaternion）、角速度、加速度、磁場強度等輸出作為控制輸入。

控制方法採用模糊邏輯系統（FLS）與階層式模糊系統（HFS）；FLS 由模糊化、推理機制與去模糊化構成，將模糊輸出轉換為馬達控制輸出；HFS 由多個 FLS 組成，並以 Nauck index 的概念描述其複雜度與可解釋性關係，指出當每層輸入數量為 2 時複雜度最低且規則數較少。

階層式架構可分為串列式（SHFS，前一個 FLS 的輸出作為下一個 FLS 的輸入）與平行式（PHFS，不同輸入分別進入不同控制器並行推論後整合輸出）。

雙輪模糊控制行走系統中，左輪控制器以操作者—光達間距與距離變化率為輸入，輸出左輪速度差；右輪控制器將左輪輸出納入輸入，並結合兩輪在固定時間內由霍爾訊號記錄的速度差，推估並調整右輪速度差以達到左右輪同步。

同步效果以霍爾訊號差值評估，結果顯示啟動初期轉速差距較大但會隨時間收斂，收斂後誤差約在最終值 ±2 範圍內。

